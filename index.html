<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Elite Portföy Terminali v4.0</title>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
<style>
:root{--bg:#030508;--card:#0f1420;--accent:#00ff9d;--red:#ff3b5c;--muted:#94a3b8;--border:rgba(255,255,255,.08)}
body{margin:0;font-family:'Plus Jakarta Sans',system-ui;background:var(--bg);color:#fff}
.container{max-width:1200px;margin:auto;padding:14px}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:14px}
.summary{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:12px}
.m-row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border)}
.up{color:var(--accent)}.down{color:var(--red)}
</style>
</head>
<body>
<div class="container">
<h3 style="color:var(--accent)">Elite Portföy Terminali – Sheet Entegre</h3>
<div class="summary">
<div class="card"><div>USD/TL</div><div id="usd" class="up">-</div></div>
<div class="card"><div>EUR/TL</div><div id="eur" class="up">-</div></div>
<div class="card"><div>Gram Altın</div><div id="gold" class="up">-</div></div>
<div class="card"><div>Enflasyon</div><div id="inf" class="down">-</div></div>
<div class="card"><div>Mevduat</div><div id="mev" class="up">-</div></div>
<div class="card"><div>BIST 100</div><div id="bist" class="up">-</div></div>
</div>
<div class="card">
<h4>Makro Piyasa Paneli (Google Sheets)</h4>
<div id="market"></div>
</div>
</div>
<script>
const MACRO_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQeTFovlKfvEp9sPepJb9SGxf_2AgMU7eEPTDCc6WWc0o1Z1AizX6K2mJlaWtcvSderiBym7cyhEdsC/pub?output=csvE";
let MACRO = {};
function fmt(n){return Number(n).toLocaleString('tr-TR',{maximumFractionDigits:2})}
async function fetchMacro(){
 const r = await fetch(MACRO_CSV_URL,{cache:'no-store'});
 const t = await r.text();
 Papa.parse(t,{header:true,skipEmptyLines:true,complete:(res)=>{
  res.data.forEach(row=>{
   MACRO[row.anahtar]=parseFloat(String(row.deger).replace(',','.'));
  });
  renderMacro();
 }});
}
function renderMacro(){
 document.getElementById('usd').textContent=fmt(MACRO.USDTRY);
 document.getElementById('eur').textContent=fmt(MACRO.EURTRY);
 document.getElementById('gold').textContent=fmt(MACRO.ALTIN_GRAM);
 document.getElementById('inf').textContent='%'+fmt(MACRO.ENFLASYON_Y);
 document.getElementById('mev').textContent='%'+fmt(MACRO.MEVDUAT_Y);
 document.getElementById('bist').textContent=fmt(MACRO.BIST100);
 document.getElementById('market').innerHTML=Object.keys(MACRO).map(k=>
  `<div class="m-row"><span>${k}</span><strong>${fmt(MACRO[k])}</strong></div>`
 ).join('');
}
fetchMacro();
setInterval(fetchMacro,600000);
</script>
</body>
</html>

